import { useEffect, useRef } from 'react'
import gsap from 'gsap-trial'
import DrawSVGPlugin from 'gsap-trial/DrawSVGPlugin'
import LogoS from '../../../assets/images/logo-s.png'
import './index.scss'

const Logo = () => {
  const bgRef = useRef()
  const outlineLogoRef = useRef()
  const solidLogoRef = useRef()

  useEffect(() => {
    gsap.registerPlugin(DrawSVGPlugin)

    gsap
      .timeline()
      .to(bgRef.current, {
        duration: 1,
        opacity: 1,
      })
      .from(outlineLogoRef.current, {
        drawSVG: 0,
        duration: 20,
      })

    gsap.fromTo(
      solidLogoRef.current,
      {
        opacity: 0,
      },
      {
        opacity: 1,
        delay: 4,
        duration: 4,
      }
    )
  }, [])

  return (
    <div className="logo-container" ref={bgRef}>
      <img
        className="solid-logo"
        ref={solidLogoRef}
        src={LogoS}
        alt="JavaScript,  Developer"
      />

      <svg
        width="559pt"
        height="897pt"
        version="1.0"
        viewBox="0 0 559 897"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g
          className="svg-container"
          transform="translate(100 100) scale(.4 .4)"
          fill="none"
        >
          <path
            ref={outlineLogoRef}
            d="M260.97,868.55c-46.52,0-86.97-5.84-120.23-17.34-33.42-11.57-60.54-29.18-80.58-52.36C20.24,752.7,0,684.12,0,594.99v-20.36H205v44.19c0,39.72,5.21,66.45,15.49,79.43,10.28,12.99,23.04,19.3,39.01,19.3s28.73-6.31,39.01-19.3c10.28-12.98,15.49-39.71,15.49-79.43V.55h227V587.5c0,51.21-5.95,95.48-17.7,131.57-11.8,36.27-29.77,65.33-53.42,86.36-47.1,41.88-117.38,63.12-208.91,63.12ZM5,579.63v15.36c0,87.89,19.83,155.38,58.94,200.58,19.47,22.51,45.86,39.64,78.44,50.91,32.73,11.33,72.63,17.07,118.59,17.07,90.27,0,159.44-20.81,205.59-61.85,22.98-20.43,40.47-48.75,51.99-84.17,11.58-35.6,17.45-79.34,17.45-130.03V5.55h-217V618.82c0,41.45-5.42,68.45-16.57,82.54-11.14,14.07-25.58,21.2-42.93,21.2s-31.79-7.13-42.93-21.2c-11.15-14.08-16.57-41.08-16.57-82.54v-39.19H5Z"/><path class="cls-1" d="M319.99,868c-46.52,0-86.97-5.84-120.23-17.34-33.42-11.57-60.54-29.18-80.58-52.36-39.92-46.14-60.16-114.72-60.16-203.85v-20.36h205v44.19c0,39.72,5.21,66.45,15.49,79.43,10.28,12.99,23.04,19.3,39.01,19.3s28.73-6.31,39.01-19.3c10.28-12.98,15.49-39.71,15.49-79.43V0h227V586.95c0,51.21-5.95,95.48-17.7,131.57-11.8,36.27-29.77,65.33-53.42,86.36-47.1,41.88-117.38,63.12-208.91,63.12ZM64.02,579.08v15.36c0,87.89,19.83,155.38,58.94,200.58,19.47,22.51,45.86,39.64,78.44,50.91,32.73,11.33,72.63,17.07,118.59,17.07,90.27,0,159.44-20.81,205.59-61.85,22.98-20.43,40.47-48.75,51.99-84.17,11.58-35.6,17.45-79.34,17.45-130.03V5h-217V618.27c0,41.45-5.42,68.45-16.57,82.54-11.14,14.07-25.58,21.2-42.93,21.2s-31.79-7.13-42.93-21.2c-11.15-14.08-16.57-41.08-16.57-82.54v-39.19H64.02Z"
          />
        </g>
      </svg>
    </div>
  )
}

export default Logo
